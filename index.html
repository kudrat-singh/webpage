<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For My Sugarplum üíó</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#100618; --accent:#ff4d7a; --muted:#d2a0b8
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:linear-gradient(180deg,#100618 0%, #1d0730 100%);
  color:#fff;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  text-align:center;
}
.stage{width:100%;max-width:680px;}
h2{margin:6px 0;font-family:'Playfair Display',serif;color:var(--accent)}
p{font-size:18px; line-height:1.6;}
.btn{
  padding:10px 18px;border-radius:10px;border:none;
  background:linear-gradient(90deg,var(--accent),#ff7aa0);
  color:#111;font-weight:700;cursor:pointer;
  transition:0.25s;margin-top:20px;
}
.btn:hover{transform:scale(1.05)}
.input{
  padding:12px 14px;border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.05);
  color:inherit;width:260px;text-align:center;
  margin-top:12px;
}

/* Main page */
#main{display:none;opacity:0;transition:opacity .5s}
.title{font-family:'Playfair Display',serif;font-size:34px;color:var(--accent);}
.subtitle{margin-top:6px;color:var(--muted)}
.letter{white-space:pre-wrap;font-size:16px;line-height:1.6;color:#fbe9f1}
.letterBox{background:rgba(255,255,255,0.05);padding:18px;border-radius:12px;margin-top:20px}

/* Envelope animation */
#envelope{
  width:200px; height:120px; margin:40px auto;
  background:linear-gradient(145deg,#ff4d7a,#ff7aa0);
  border-radius:6px; position:relative; cursor:pointer;
  overflow:hidden; display:none;
}
#envelope:before{
  content:""; position:absolute; top:0; left:0; width:0; height:0;
  border-left:100px solid transparent;
  border-right:100px solid transparent;
  border-bottom:60px solid #ff4d7a;
  transition:all 1s ease;
}
#envelope.open:before{transform:translateY(-60px); opacity:0}

/* Final Q&A */
#finalQA{display:none; margin-top:20px;}
#finalEmoji{font-size:48px; margin-top:12px;}
</style>
</head>

<body>
<div class="stage">

  <!-- Intro page -->
  <div id="intro">
    <p>I WANTED TO SAY YOU SOMETHING SINCE A LONG TIME BUT I WAS NOT ABLE TO GATHER THE COURAGE<br><b>ARE YOU READY FOR IT?</b></p>
    <button id="startBtn" class="btn">Yes, I‚Äôm ready!</button>
  </div>

  <!-- Gate -->
  <div id="gate" style="display:none">
    <h2>Do you love me? üíó</h2>
    <input id="ans3" class="input" placeholder="Yes or No">
    <button id="loveSubmit" class="btn">Submit</button>
    <div id="emoji"></div>
  </div>

  <!-- Envelope animation -->
  <div id="envelope"></div>

  <!-- Main letter -->
  <div id="main">
    <div class="title" id="titleEl">To my forever</div>
    <div class="subtitle">For <b>Ambika Dutta</b> ‚Ä¢ Since 14 Jan 2025</div>

    <div class="letterBox">
      <div id="letterText" class="letter"></div>
      <div class="signature" style="font-family:'Playfair Display';font-size:22px;color:var(--accent);margin-top:18px">
        ‚Äî Your Kudrat
      </div>
      <!-- Continue button added -->
      <button id="continueBtn" class="btn">Continue</button>
    </div>
  </div>

  <!-- Final Q&A -->
  <div id="finalQA">
    <h2>Will you be mine forever ü•π</h2>
    <button id="yesForever" class="btn">Yes ü•∞‚ù§Ô∏è</button>
    <div id="finalEmoji"></div>
    <audio id="finalSong" src="final_song.mp3"></audio>
  </div>

  <!-- Background song -->
  <audio id="bgSong" src="background_song.mp3" autoplay loop></audio>

</div>

<script>
const qs = id => document.getElementById(id);
const sanitize = v => String(v||"").trim().toLowerCase();

/* Intro page button */
qs("startBtn").onclick = function(){
  qs("intro").style.display = "none";
  qs("gate").style.display = "block";
}

/* Gate question */
qs("loveSubmit").onclick = function(){
  const love = sanitize(qs("ans3").value);
  if(love === "yes"){
    qs("emoji").textContent = "ü•∞‚ù§Ô∏è";
    setTimeout(showEnvelope, 500);
  } else if(love === "no"){
    qs("emoji").textContent = "üíîü•Ä";
  }
}

/* Show envelope first */
function showEnvelope(){
  qs("gate").style.display="none";
  const env = qs("envelope");
  env.style.display = "block";

  env.onclick = function(){
    env.classList.add("open");
    setTimeout(showLetter, 1200);
  }
}

/* Show letter page */
function showLetter(){
  qs("envelope").style.display="none";
  const main = qs("main");
  main.style.display = "block";
  main.style.opacity = 1;

  qs("letterText").textContent = `Hey Ambika ‚ù§Ô∏è

Today is 14th November 2025, and we‚Äôve been 10 months together‚Ä¶ no nazar at all üòò. I love you so much, Ambika. There hasn‚Äôt been a single day I didn‚Äôt think about you, or a single night that ended without our sweet (sometimes spicy!) conversations.

The day you entered my life, everything changed. My world, once black and white, suddenly became colourful and full of joy ‚ú®. Yes, we argue sometimes, we step on the wrong foot‚Äîbut these are just tiny parts of life. My feelings for you are even stronger than day one üíñ.

You‚Äôre my last thought before sleeping and my first thought when I wake up. I know we‚Äôre in an important phase of life, and maybe I shouldn‚Äôt wish you today, but I couldn‚Äôt resist. I wanted to make you feel special‚Ä¶ and tell you how much you mean to me ü´∂.

I know exams are coming, so I don‚Äôt want to distract you. This is just a small gesture‚Äîa thank you for everything: for being in my life, for making me feel lucky, for making me happy every single day. You deserve all the good things in this world, Ambika. And I‚Äôm ready to give you mine ‚ù§Ô∏è.

I always want you to be happy. I know sometimes I make you sad or anxious, and I‚Äôm genuinely sorry üíî. But my love for you is pure and true. Your place in my heart will never change‚ÄîAmbika Dutta owns it completely ‚ù§Ô∏è‚Äçüî•.

Even if things get tough, my feelings will never fade. I‚Äôll support you, motivate you, and stand by you always. I trust you completely, because I know you‚Äôll keep my heart safe too.

These were just 10 months, Ambika‚Ä¶ we have a long, beautiful journey ahead: to grow, to love, to achieve, and to stay together. I‚Äôll wait for you, no matter how long it takes.

I love you so much, my forever‚Ä¶ my bsf üíûüë©‚Äç‚ù§Ô∏è‚Äçüë®‚ú®

‚Äî Your Kudrat`;

  qs("bgSong").play().catch(()=>{});
}

// Manual continue to final Q&A
qs("continueBtn").onclick = function(){
  qs("main").style.display="none";
  qs("finalQA").style.display="block";
}

// Final Q&A yes button
qs("yesForever").onclick = function(){
  qs("finalEmoji").textContent = "ü•∞üíñü•≥";
  fadeSongs(qs("bgSong"), qs("finalSong"));
}

// Fade out old song and fade in new song
function fadeSongs(oldSong, newSong){
  let vol = oldSong.volume;
  const fadeOut = setInterval(()=>{
    if(vol > 0.05){
      vol -= 0.05;
      oldSong.volume = vol;
    } else {
      clearInterval(fadeOut);
      oldSong.pause();
      newSong.volume = 0;
      newSong.play().catch(()=>{});
      let newVol = 0;
      const fadeIn = setInterval(()=>{
        if(newVol < 1){
          newVol += 0.05;
          newSong.volume = newVol;
        } else {
          clearInterval(fadeIn);
          newSong.volume = 1;
        }
      }, 100);
    }
  }, 100);
}
</script>
</body>
</html>
