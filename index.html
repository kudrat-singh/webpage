<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For My Sugarplum üíó</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#100618; --accent:#ff4d7a; --muted:#d2a0b8
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:linear-gradient(180deg,#100618 0%, #1d0730 100%);
  color:#fff;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  text-align:center;
}
.stage{width:100%;max-width:680px;}
h2{margin:6px 0;font-family:'Playfair Display',serif;color:var(--accent)}
p{font-size:18px; line-height:1.6;}
.btn{
  padding:10px 18px;border-radius:10px;border:none;
  background:linear-gradient(90deg,var(--accent),#ff7aa0);
  color:#111;font-weight:700;cursor:pointer;
  transition:0.25s;margin-top:20px;
}
.btn:hover{transform:scale(1.05)}
.input{
  padding:12px 14px;border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.05);
  color:inherit;width:260px;text-align:center;
  margin-top:12px;
}

/* Main page */
#main{display:none;opacity:0;transition:opacity .5s}
.title{font-family:'Playfair Display',serif;font-size:34px;color:var(--accent);}
.subtitle{margin-top:6px;color:var(--muted)}
.letter{white-space:pre-wrap;font-size:16px;line-height:1.6;color:#fbe9f1}
.letterBox{background:rgba(255,255,255,0.05);padding:18px;border-radius:12px;margin-top:20px}

/* Envelope animation */
#envelopeContainer{position:relative; display:none;}
#openText{
  position:absolute; top:-30px; left:50%; transform:translateX(-50%);
  font-family:'Playfair Display'; font-size:18px; color:var(--accent);
  animation: pulse 1.5s infinite;
}
#envelope{
  width:200px; height:120px; margin:40px auto;
  background:#ff4d7a;
  border-radius:6px; position:relative; cursor:pointer;
  overflow:hidden;
  display:block;
  transition: transform 0.5s ease;
}
/* Flap */
#envelope:before{
  content:""; 
  position:absolute; top:0; left:0; width:0; height:0;
  border-left:100px solid transparent;
  border-right:100px solid transparent;
  border-bottom:60px solid #ff7aa0;
  transform-origin: bottom center;
  transition: transform 0.8s ease, opacity 0.8s ease;
}
/* Open flap */
#envelope.open:before{
  transform: rotateX(180deg) translateY(-60px);
  opacity:0;
}
/* Bounce effect */
#envelope.bounce{
  animation: bounce 0.5s forwards;
}
/* Pulse text */
@keyframes pulse{
  0%,100%{ transform:translateX(-50%) scale(1); opacity:0.8; }
  50%{ transform:translateX(-50%) scale(1.1); opacity:1; }
}
@keyframes bounce{
  0%{ transform: translateY(0); }
  30%{ transform: translateY(-10px); }
  50%{ transform: translateY(0); }
  70%{ transform: translateY(-5px); }
  100%{ transform: translateY(0); }
}

/* Final Q&A */
#finalQA{display:none; margin-top:20px;}
#finalEmoji{font-size:48px; margin-top:12px;}
</style>
</head>

<body>
<div class="stage">

  <!-- Intro page -->
  <div id="intro">
    <p>I WANTED TO SAY SOMETHING TO YOU SINCE A LONG TIME BUT I WAS NOT ABLE TO GATHER THE COURAGE<br><b>ARE YOU READY FOR IT?</b></p>
    <button id="startBtn" class="btn">Yes, I‚Äôm ready!</button>
  </div>

  <!-- Gate -->
  <div id="gate" style="display:none">
    <h2>Do you love me? üíóü•π</h2>
    <input id="ans3" class="input" placeholder="Yes or No">
    <button id="loveSubmit" class="btn">Submit</button>
    <div id="emoji"></div>
  </div>

  <!-- Envelope animation -->
  <div id="envelopeContainer">
    <div id="openText">Open Me üíå</div>
    <div id="envelope"></div>
  </div>

  <!-- Main letter -->
  <div id="main">
    <div class="title" id="titleEl">To my forever</div>
    <div class="subtitle">For <b>Ambika Dutta</b> ‚Ä¢ Since 14 Jan 2025</div>

    <div class="letterBox">
      <div id="letterText" class="letter"></div>
      <div class="signature" style="font-family:'Playfair Display';font-size:22px;color:var(--accent);margin-top:18px">
        ‚Äî Your Kudrat
      </div>
      <button id="continueBtn" class="btn">Continue</button>
    </div>
  </div>

  <!-- Final Q&A -->
  <div id="finalQA">
    <h2>Will you be mine forever ü•π</h2>
    <button id="yesForever" class="btn">Yes ü•∞‚ù§Ô∏è</button>
    <div id="finalEmoji"></div>
    <audio id="finalSong" src="final_song.mp3"></audio>
    <div id="finalMessage" style="
        display:none; 
        margin-top:30px; 
        font-size:28px; 
        font-family:'Playfair Display'; 
        color:var(--accent);
        line-height:1.4;
    "></div>
  </div>

  <!-- Background song -->
  <audio id="bgSong" src="background_song.mp3" autoplay loop></audio>

</div>

<script>
const qs = id => document.getElementById(id);
const sanitize = v => String(v||"").trim().toLowerCase();

/* Intro page button */
qs("startBtn").onclick = function(){
  qs("intro").style.display = "none";
  qs("gate").style.display = "block";
}

/* Gate question */
qs("loveSubmit").onclick = function(){
  const love = sanitize(qs("ans3").value);
  if(love === "yes"){
    qs("emoji").textContent = "ü•∞‚ù§Ô∏è";
    setTimeout(showEnvelope, 500);
  } else if(love === "no"){
    qs("emoji").textContent = "üíîü•Ä";
  }
}

/* Show envelope first */
function showEnvelope(){
  qs("gate").style.display="none";
  const envContainer = qs("envelopeContainer");
  const env = qs("envelope");
  envContainer.style.display = "block";

  env.onclick = function(){
    env.classList.add("bounce"); // small bounce on click
    setTimeout(()=>{
      env.classList.add("open"); // flap opens
      setTimeout(showLetter, 1000); // show letter after flap animation
    }, 200);
    qs("openText").style.display = "none"; // hide "Open Me" text
  }
}

/* Show letter page */
function showLetter(){
  qs("envelopeContainer").style.display="none";
  const main = qs("main");
  main.style.display = "block";
  main.style.opacity = 1;

  qs("letterText").textContent = `Happy 10 months Anniversary Ambika ‚ù§Ô∏è

Today is 14th November 2025, and we‚Äôve been 10 months together‚Ä¶ no nazar at all üòò. I love you so much, Ambika. There hasn‚Äôt been a single day I didn‚Äôt think about you, or a single night that ended without our sweet (sometimes spicy!) conversations.

The day you entered my life, everything changed. My world, once black and white, suddenly became colourful and full of joy ‚ú®. Yes, we argue sometimes, we step on the wrong foot but these are just tiny parts of life. My feelings for you are even stronger than day one üíñ.

You‚Äôre my last thought before sleeping and my first thought when I wake up. I know we‚Äôre in an important phase of life, and maybe I shouldn‚Äôt wish you today, but I couldn‚Äôt resist. I wanted to make you feel special‚Ä¶ and tell you how much you mean to me ü´∂.

Ambika you have a lot of potential and you are really smart and I am sure that you will acheive great things in your life and I want to promise you that i will always be there clapping for you and cheering you up when you feel low.

I know exams are coming and we are on a break, so I don‚Äôt want to distract you. This is just a small gesture, a thank you for everything, for being in my life, for making me feel so lucky, for making me happy every single day. You deserve all the good things in this world, Ambika. And I‚Äôm ready to give you mine ‚ù§Ô∏è.

I always want you to be happy. I know sometimes I make you sad or anxious, and I‚Äôm genuinely sorry üíî. But my love for you is pure and true. Your place in my heart will never change...Ambika Dutta owns it completely.

Even if things get tough, my feelings will never fade. I‚Äôll support you, motivate you, and stand by you always. I trust you completely, because I know you‚Äôll keep my heart safe too.

These were just 10 months, Ambika‚Ä¶ we have a long, long beautiful journey ahead to grow, to love, to achieve, and to stay together. I‚Äôll wait for you, no matter how long it takes.

I love you so much, my forever‚Ä¶ my bsf üíûüë©‚Äç‚ù§Ô∏è‚Äçüë®‚ú®`;

  qs("bgSong").play().catch(()=>{});
}

/* Fade functions */
function fadeOutSong(song, callback){
  let vol = song.volume;
  const fade = setInterval(()=>{
    if(vol > 0.05){
      vol -= 0.05;
      song.volume = vol;
    } else {
      clearInterval(fade);
      song.pause();
      if(callback) callback();
    }
  }, 100);
}

function fadeInSong(song){
  song.volume = 0;
  song.play().catch(()=>{});
  let vol = 0;
  const fadeIn = setInterval(()=>{
    if(vol < 1){
      vol += 0.05;
      song.volume = vol;
    } else {
      clearInterval(fadeIn);
      song.volume = 1;
    }
  }, 100);
}

/* Continue button - fade bg song */
qs("continueBtn").onclick = function(){
  qs("main").style.display = "none";
  qs("finalQA").style.display = "block";
  fadeOutSong(qs("bgSong"));
}

/* Final Q&A yes button - animate message word by word */
qs("yesForever").onclick = function(){
  qs("finalEmoji").textContent = "ü•∞üíñü•≥";

  fadeOutSong(qs("bgSong"), ()=>{
    const finalSong = qs("finalSong");
    finalSong.volume = 1;
    finalSong.play().catch(()=>{});

    const msgEl = qs("finalMessage");
    msgEl.style.display = "block";
    msgEl.textContent = "";

    const text = "I love you so so so so so much my kuchupukoo ‚ù§Ô∏è";
    const words = text.split(" ");
    let i = 0;
    const interval = setInterval(()=>{
      msgEl.textContent += words[i] + " ";
      i++;
      if(i >= words.length){
        clearInterval(interval);
      }
    }, 400); // adjust word speed
  });
}
</script>
</body>
</html>
